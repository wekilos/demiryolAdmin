{"version":3,"file":"static/js/434.57bb4cb3.chunk.js","mappings":"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","sources":["pages/requests/ImageConfig.jsx","pages/requests/dropFile.jsx","pages/requests/requests.js","utils/axiosIntance.js"],"sourcesContent":["import pdfFile from \"../../img/pdfFile.png\";\nimport pngFile from \"../../img/pngFile.png\";\nimport defaultFile from \"../../img/defaultFile.png\";\n\nexport const ImageConfig = {\n  default: defaultFile,\n  pdf: pdfFile,\n  png: pngFile,\n};","import React from \"react\";\nimport { useRef, useState } from \"react\";\nimport { VscChromeClose } from \"react-icons/vsc\";\nimport { HiOutlineCloudUpload } from \"react-icons/hi\";\nimport { ImageConfig } from \"./ImageConfig\";\nimport PropTypes from \"prop-types\";\n\nconst DropFileInput = (props) => {\n  const wrapperRef = useRef(null);\n  const [fileList, setFileList] = useState([]);\n  const onDragEnter = () => wrapperRef.current.classList.add(\"dragover\");\n  const onDragLeave = () => wrapperRef.current.classList.remove(\"dragover\");\n  const onDrop = () => wrapperRef.current.classList.remove(\"dragover\");\n\n  const onFileDrop = (e) => {\n    const newFile = e.target.files[0];\n    console.log(\"newFile\",newFile)\n    if (newFile) {\n      const updatedList = [...fileList, newFile];\n      setFileList(updatedList);\n      props.onFileChange(updatedList);\n    }\n  };\n\n\n\n  const fileRemove = (file) => {\n    const updatedList = [...fileList];\n    updatedList.splice(fileList.indexOf(file), 1);\n    setFileList(updatedList);\n    props.onFileChange(updatedList);\n  };\n\n  return (\n    <>\n      <div\n        ref={wrapperRef}\n        onDragEnter={onDragEnter}\n        onDragLeave={onDragLeave}\n        onDrop={onDrop}\n        className=\"w-full shadow-[0_0_6px_0_rgba(23,23,23,0.1)] text-[#b0adad] outline-none p-3 rounded-md h-52 border-dashed border-[#b0adad] hover:border-blue border-2 flex justify-center flex-col items-center hover:text-blue my-auto relative\"\n      >\n        <HiOutlineCloudUpload size={100} />\n        <span className=\"  w-1/2 mx-auto  mt-6\">\n          Информация, которую вы хотите добавить, должна быть представлена\n          ​​следующими способами: PNG, PDF, WORD\n        </span>\n        <input\n          type=\"file\"\n          value=\"\"\n          // onClick={onFileDrop}\n          onChange={onFileDrop}\n          className=\"absolute opacity-0 w-full h-full cursor-pointer\"\n        />\n      </div>\n      {fileList.length > 0 ? (\n        <div className=\"mt-12 w-full\">\n          {fileList.map((item, index, size) => (\n            <div key={index}>\n              <div className=\"relative flex mb-2.5 bg-gray/10 p-4 rounded-xl w-full justify-between\">\n                <div className=\"flex\">\n                  <img\n                    src={\n                      ImageConfig[item.type.split(\"/\")[1]] ||\n                      ImageConfig[\"default\"]\n                    }\n                    alt=\"\"\n                    width={50}\n                    height={50}\n                  />\n                  <div className=\"ml-6\">\n                    <p>{item.name}</p>\n                    <span className=\"flex\">\n                      <p>{item.size}&nbsp;b</p>\n                    </span>\n                  </div>\n                </div>\n                <div className=\"flex\">\n                  <span\n                    className=\"my-auto cursor-pointer\"\n                    onClick={() => fileRemove(item)}\n                  >\n                    <VscChromeClose />\n                  </span>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : null}\n    </>\n  );\n};\nDropFileInput.propTypes = {\n  onFileChange: PropTypes.func,\n};\nexport default DropFileInput;","import { Popconfirm, Table, Button, message,Drawer } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { axiosInstance,BASE_URL } from '../../utils/axiosIntance';\nimport file from \"../../img/file.png\"; \nimport DropFileInput from \"./dropFile\";\nimport { useHistory } from 'react-router-dom';\n\n \n\n\n\n\n\n\n\nconst Requests = () => {\n  const history = useHistory();\n  const [data,setData] = useState([]);\n  const [openChange,setOpenChange] = useState(false);\n  const [order,setOrder] = useState({});\n  const [files,setFiles] = useState([]);\n  const [active,setActive] = useState(false);\n  const [code,setCode] = useState(\"\");\n  const [payBefore,setPayBefore] = useState(\"\");\n  const [payBeforeType,setPayBeforeType] = useState(\"\");\n  const [removeAll,setRemoveAll] = useState(false);\n  useEffect(()=>{\n    getData();\n  },[])\n\n  const getData = ()=>{\n    axiosInstance.get(\"/api/order/all?status=1&active=true\").then((data)=>{\n      console.log(data.data);\n      setData(data.data);\n    }).catch((err)=>{\n      console.log(err);\n    });\n\n  }\n\n\n  const columns = [\n    {\n      title: 'No',\n      dataIndex: 'surname',\n      \n      render:(text,record)=>(\n        <div>\n          {record?.lname}\n        </div>\n      )\n    },\n    {\n      title: 'Edara ady',\n      dataIndex: 'name',\n      render:(text,record)=>(\n        <div>\n          {record?.User?.companyName}\n        </div>\n      )\n    },\n    {\n      title: 'Ulanyjy',\n      dataIndex: 'uploaded',\n      render:(text,record)=>(\n        <div>\n          {record?.User?.fname}\n        </div>\n      )\n    },\n    {\n      title: 'Bellik',\n      dataIndex: 'message',\n    },\n   \n    {\n      title: 'Action',\n      render: (text,record) => <>\n      {/* <Popconfirm placement=\"top\" title={\"Are you sure\"} onConfirm={handleConfirm} okText=\"Yes\" cancelText=\"No\">  */}\n                        <Button onClick={()=>{setOpenChange(true);setOrder(record);}} type=\"primary\" style={{borderRadius: \"7px\"}}>Accept</Button>\n                    {/* </Popconfirm> */}\n                    <Popconfirm placement=\"top\" title={\"Are you sure\"} onConfirm={()=>Reject(record.id)} okText=\"Yes\" cancelText=\"No\"> \n                        <Button type=\"danger\" style={{borderRadius: \"7px\", marginLeft: \"10px\"}}>Reject</Button>\n                    </Popconfirm>\n                    </>\n    }\n  ];\n\n\n\n  const onFileChange = (files) => {\n    console.log(files);\n    files.length > 0 && setActive(true);\n    files.length == 0 && setActive(true);\n    setFiles(files);\n  };\n\n  const makeOrder = ()=>{\n    if(code.length>0 && payBefore.length>0 && payBeforeType.length>0){\n    const formData = new FormData();\n    console.log(\"order\",order)\n    formData.append(\"id\",order?.id);\n    formData.append(\"code\",code);\n    formData.append(\"payBefore\",payBefore);\n    formData.append(\"payBeforeType\",payBeforeType);\n    files?.map((item)=>{\n      formData.append(\"filess\",item);\n    })\n    axiosInstance.post(\"/api/order/make\",formData).then((data)=>{\n      console.log(data.data);\n      message.success(\"Ustunlikli!\");\n      getData();\n      setOpenChange(false);\n      setCode(\"\");\n      setPayBefore(\"\");\n      setPayBeforeType(\"\");\n      setFiles([]); \n      history.push({\n        pathname:\"/orders\"\n      })\n    }).catch((err)=>{\n      console.log(err);\n    })\n  }else{\n    message.warn(\"Maglumatlary doly dolduryn!\")\n  }\n  }\n\n  const Reject = (id)=>{\n    axiosInstance.patch(\"/api/order/cancel/\"+id).then((data)=>{\n      message.success(\"Yatyryldy!\");\n      getData()\n    }).catch((err)=>{\n      console.log(err);\n      message.warn(\"Gaytadan Barlan!\")\n    })\n  }\n\n  return (\n    <>\n    <Drawer\n      width={500}\n      placement=\"right\"\n      closable={true}\n      mask={true}\n      maskClosable={true}\n      onClose={()=>setOpenChange(false)}\n      visible={openChange}>\n          <div>\n            <h2>Files:</h2>\n             {order?.OrderDocs?.map((item)=>{\n              console.log(BASE_URL+item.fileName);\n              return <div style={{width:\"100%\",display:\"flex\"}}>\n                 <a href={BASE_URL+\"/\"+item.fileName} target=\"_blank\"> <img style={{marginRight:\"10px\",objectFit:\"contain\",height:\"50px\"}} src={file} alt=\"file\"/></a>\n                  <p style={{lineHeight:\"50px\"}}>{item.title}</p>\n                </div>\n             })}\n          <div style={{width:\"100%\"}}>\n             <input value={code} onChange={(e)=>setCode(e.target.value)} className='h-[50px] rounded-[6px] bg-[#FFFFFF] w-[100%] border-[1px] border-[#E3E7EE] text-[#999999] pl-[12px] text-[16px] font-sans mb-4' type=\"text\" placeholder='Code No' />\n             <input value={payBefore} onChange={(e)=>setPayBefore(e.target.value)} className='h-[50px] rounded-[6px] bg-[#FFFFFF] w-[100%] border-[1px] border-[#E3E7EE] text-[#999999] pl-[12px] text-[16px] font-sans mb-4' type=\"text\" placeholder='payBefore' />\n             <input value={payBeforeType} onChange={(e)=>setPayBeforeType(e.target.value)} className='h-[50px] rounded-[6px] bg-[#FFFFFF] w-[100%] border-[1px] border-[#E3E7EE] text-[#999999] pl-[12px] text-[16px] font-sans mb-4' type=\"text\" placeholder='Currency (USD)' />\n             <DropFileInput  onFileChange={(files) => onFileChange(files)} />\n             <button onClick={()=>{active && makeOrder()}} className={`${ active && \"!bg-blue !text-white \"} bg-[#DEE6F9] h-[50px] rounded-[5px] w-full mt-4 text-[18px] font-sans text-blue`}>Send</button>\n\n          </div>\n          </div>\n    </Drawer>\n     <Table\n    columns={columns}\n    dataSource={data}\n    pagination={{\n      pageSize: 50,\n    }}\n    scroll={{\n      y: \"72vh\",\n    }}\n  />\n  </>\n  )\n};\n\nexport default Requests;","import axios from \"axios\";\nimport { token } from \"./token\";\n\n// const BASE_URL = 'http://95.85.122.39:8181'\nconst BASE_URL = \"http://216.250.8.203:8181\";\n\nconst axiosInstance = axios.create({\n    baseURL: BASE_URL,\n    timeout: 10000,\n\n    headers: {\n        //  Authorization: 'Bearer ' + token(),\n        \"Content-Type\": \"application/json\",\n        Accept: \"*/*\",\n        // Authorization:'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwicm9sZSI6ImFkbWluIiwibmFtZSI6IktlcmltIiwiaWF0IjoxNjE2NDUwNjU3fQ.v8iyHYmwNlKVhLUA7LzxybICB8zzbVjRyXeFZbV7IPw'\n    },\n});\nexport { BASE_URL, axiosInstance };\n"],"names":["ImageConfig","default","pdf","pdfFile","png","pngFile","props","wrapperRef","useRef","useState","fileList","setFileList","ref","onDragEnter","current","classList","add","onDragLeave","remove","onDrop","className","size","type","value","onChange","e","newFile","target","files","console","log","updatedList","onFileChange","length","map","item","index","src","split","alt","width","height","name","onClick","file","splice","indexOf","fileRemove","history","useHistory","data","setData","openChange","setOpenChange","order","setOrder","setFiles","active","setActive","code","setCode","payBefore","setPayBefore","payBeforeType","setPayBeforeType","useEffect","getData","axiosInstance","then","catch","err","columns","title","dataIndex","render","text","record","lname","User","companyName","fname","style","borderRadius","placement","onConfirm","Reject","id","okText","cancelText","marginLeft","message","closable","mask","maskClosable","onClose","visible","OrderDocs","BASE_URL","fileName","display","href","marginRight","objectFit","lineHeight","placeholder","formData","FormData","append","push","pathname","makeOrder","dataSource","pagination","pageSize","scroll","y","axios","baseURL","timeout","headers","Accept"],"sourceRoot":""}